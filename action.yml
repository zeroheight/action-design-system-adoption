name: 'Design System Adoption'
description: 'Analyze and update your design system adoption in zeroheight'
author: 'zeroheight'
branding:
  icon: 'bar-chart'
  color: 'purple'

runs:
  using: 'composite'
  steps:
    - name: Setup Node
      uses: actions/setup-node@v4
      with:
        node-version: 20
    - name: Checkout code
      uses: actions/checkout@v3
    - name: Analyze and update
      env:
        ZEROHEIGHT_CLIENT_ID: '${{ secrets.ZEROHEIGHT_CLIENT_ID }}'
        ZEROHEIGHT_ACCESS_TOKEN: '${{ secrets.ZEROHEIGHT_ACCESS_TOKEN }}'
      run: npx @zeroheight/adoption-cli analyze --interactive false --repo-name ${{ github.event.repository.name }}
